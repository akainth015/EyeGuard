<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="EyeGuard.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:EyeGuard"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>
        <Grid x:Name="AppTitleBar" Height="48">
            <Grid.ColumnDefinitions>
                <ColumnDefinition x:Name="LeftPaddingColumn" Width="0"/>
                <ColumnDefinition/>
                <ColumnDefinition x:Name="RightPaddingColumn" Width="0"/>
            </Grid.ColumnDefinitions>
        </Grid>
        <ScrollViewer>
            <StackPanel Spacing="24" Padding="40">
                <!-- Header -->
                <StackPanel Spacing="16" Orientation="Horizontal">
                    <Button x:Name="BackButton"
                            Click="BackButton_Click"
                            Padding="8"
                            VerticalAlignment="Center">
                        <FontIcon Glyph="&#xE830;" FontSize="16"/>
                    </Button>
                    <StackPanel Spacing="8">
                        <TextBlock Text="Settings" Style="{StaticResource TitleTextBlockStyle}"/>
                        <TextBlock
                        Text="Configure your EyeGuard preferences"
                        Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                    </StackPanel>
                </StackPanel>

                <!-- Break Interval Setting -->
                <StackPanel Spacing="12">
                    <TextBlock Text="Break Interval" Style="{StaticResource SubtitleTextBlockStyle}"/>
                    <TextBlock
                    Text="How often should EyeGuard remind you to take a break?"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    TextWrapping="Wrap"/>

                    <Grid Margin="0,8,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Slider
                        x:Name="BreakIntervalSlider"
                        Grid.Row="0"
                        Grid.Column="0"
                        Minimum="10"
                        Maximum="60"
                        StepFrequency="1"
                        TickFrequency="10"
                        TickPlacement="BottomRight"
                        VerticalAlignment="Center"
                        Margin="0,0,16,0"
                        ManipulationMode="TranslateX"/>

                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                            <TextBlock
                            x:Name="BreakIntervalValueText"
                            Text="20"
                            Style="{StaticResource SubtitleTextBlockStyle}"
                            VerticalAlignment="Center"/>
                            <TextBlock
                            Text="minutes"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            VerticalAlignment="Center"
                            Margin="0,2,0,0"/>
                        </StackPanel>

                        <Grid Grid.Row="1" Grid.Column="0" Margin="0,4,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock
                            Grid.Column="0"
                            Text="10 min"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            HorizontalAlignment="Left"/>
                            <TextBlock
                            Grid.Column="1"
                            Text="60 min"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            HorizontalAlignment="Right"/>
                        </Grid>
                    </Grid>
                </StackPanel>

                <!-- Break Duration Setting -->
                <StackPanel Spacing="12">
                    <TextBlock Text="Break Duration" Style="{StaticResource SubtitleTextBlockStyle}"/>
                    <TextBlock
                    Text="How long should each break last?"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    TextWrapping="Wrap"/>

                    <Grid Margin="0,8,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Slider
                        x:Name="BreakDurationSlider"
                        Grid.Row="0"
                        Grid.Column="0"
                        Minimum="5"
                        Maximum="300"
                        StepFrequency="5"
                        TickFrequency="60"
                        TickPlacement="BottomRight"
                        VerticalAlignment="Center"
                        Margin="0,0,16,0"
                        ManipulationMode="TranslateX"/>

                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Spacing="4" VerticalAlignment="Center">
                            <TextBlock
                            x:Name="BreakDurationValueText"
                            Text="20"
                            Style="{StaticResource SubtitleTextBlockStyle}"
                            VerticalAlignment="Center"/>
                            <TextBlock
                            x:Name="BreakDurationUnitText"
                            Text="seconds"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            VerticalAlignment="Center"
                            Margin="0,2,0,0"/>
                        </StackPanel>

                        <Grid Grid.Row="1" Grid.Column="0" Margin="0,4,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock
                            Grid.Column="0"
                            Text="5 sec"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            HorizontalAlignment="Left"/>
                            <TextBlock
                            Grid.Column="1"
                            Text="5 min"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            HorizontalAlignment="Right"/>
                        </Grid>
                    </Grid>
                </StackPanel>

                <!-- Break Sound Setting -->
                <StackPanel Spacing="12">
                    <TextBlock Text="Break Sound" Style="{StaticResource SubtitleTextBlockStyle}"/>
                    <TextBlock
                    Text="Choose which sound plays when a break starts"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    TextWrapping="Wrap"/>

                    <Grid Margin="0,8,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBox
                        x:Name="BreakSoundPathTextBox"
                        Grid.Row="0"
                        Grid.Column="0"
                        IsReadOnly="True"
                        Margin="0,0,8,0"
                        VerticalAlignment="Center"
                        PlaceholderText="Sound file path"/>

                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Spacing="8">
                            <Button
                            x:Name="BrowseSoundButton"
                            Click="BrowseSoundButton_Click"
                            Content="Browse..."
                            VerticalAlignment="Center"/>
                            <Button
                            x:Name="ResetSoundButton"
                            Click="ResetSoundButton_Click"
                            Content="Reset"
                            VerticalAlignment="Center"/>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Spacing="12" Margin="0,8,0,0">
                            <Button
                            x:Name="PlaySoundButton"
                            Click="PlaySoundButton_Click"
                            Content="Play"/>
                            <TextBlock
                            x:Name="SoundDurationText"
                            Text="Duration: 0 seconds"
                            Style="{StaticResource CaptionTextBlockStyle}"
                            Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                            VerticalAlignment="Center"/>
                            <TextBlock
                            x:Name="SoundDurationWarning"
                            Text="âš  Audio clips longer than 2 seconds may adversely impact your experience"
                            Style="{StaticResource CaptionTextBlockStyle}"
                            Foreground="{ThemeResource SystemFillColorCautionBrush}"
                            VerticalAlignment="Center"
                            Visibility="Collapsed"/>
                        </StackPanel>
                    </Grid>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
